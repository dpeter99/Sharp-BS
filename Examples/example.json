{
  "name": "Chroma",
  "version": "0.0.2",
  "authors": ["and mee"],
  "license": "MPL-2",
  
  "variables": {
    "outDir": "${root}/out",
    "kernel_src": "${root}/src/*.c",
    "kernel_inc": "${root}/inc/*.h"
  },
  
  "plugins": [
    {
      "plugin": "cc",
      "out": "${outDir}/kernel",
      "toolchain": {
        "compiler": "x86_64-elf-gcc",
        "architectures": ["x64"],
        "platforms": ["Generic"]
      }
    }
  ],
  
  "steps": [
    {
      "task": "@{cc::compile}",
      "src": ["${kernel_src}"],
      "params": [
        "${debug}",
        "-ffreestanding -O0 -Wall -Wextra -Wall -Werror -fPIC -fno-exceptions -fno-omit-frame-pointer -mno-red-zone -fno-stack-protector -ggdb3",
        "${FILE}"
      ]
    },
    {
      "task": "@{cc::link}",
      "params": [
        "${debug}",
        "legend of zelda",
        "${kernel_inc}"
      ]
    }
  ],
  
  "configs": [
    {
      "name": "release",
      "default": false
    },
    {
      "name": "debug",
      "variables": ["debug"] 
    }
  ]
}